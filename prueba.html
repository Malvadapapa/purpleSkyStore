<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    dialog {
      width: 300px;
      padding: 20px;
      background-color: #fff;
      border: 1px solid #ccc;
    }

    button {
      margin-top: 10px;
      padding: 8px 12px;
      cursor: pointer;
    }

    button.confirmar {
      background-color: #4CAF50;
      color: white;
    }

    button.cancelar {
      background-color: #f44336;
      color: white;
    }
  </style>
</head>
<body>

<button id="mostrarCompraBtn">Mostrar Resumen de Compra</button>

<dialog id="dialogoCompra">
  <p>Resumen de Compra:</p>
  <ul id="listaProductos"></ul>
  <button class="cancelar" id="cerrarDialogoBtn">Cancelar</button>
  <button class="confirmar" id="confirmarCompraBtn">Confirmar Compra</button>
</dialog>

<script>
  const DIALOGO_COMPRA = document.getElementById('dialogoCompra');
  const LISTA_PRODUCTOS = document.getElementById('listaProductos');

  const PRODUCTOS = [
    { descripcion: 'Producto 1', precio: 10.00 },
    { descripcion: 'Producto 2', precio: 15.00 },
    // Agrega más productos según sea necesario
  ];

  const MOSTRAR_DIALOGO = () => {
    // Crear el contenido HTML dinámicamente
    const CONTENIDO_HTML = PRODUCTOS.map(producto => `<li>${producto.descripcion}: $${producto.precio.toFixed(2)}</li>`).join('');

    // Asignar el contenido HTML al elemento usando innerHTML
    LISTA_PRODUCTOS.innerHTML = CONTENIDO_HTML;

    DIALOGO_COMPRA.showModal();
  };

  const CERRAR_DIALOGO = () => {
    DIALOGO_COMPRA.close();
  };

  const CONFIRMAR_COMPRA = () => {
    alert('Compra confirmada. Gracias por tu compra.');
    CERRAR_DIALOGO();
  };

  const INIT = () => {
    const mostrarCompraBtn = document.getElementById('mostrarCompraBtn');
    const cerrarDialogoBtn = document.getElementById('cerrarDialogoBtn');
    const confirmarCompraBtn = document.getElementById('confirmarCompraBtn');

    mostrarCompraBtn.addEventListener('click', MOSTRAR_DIALOGO);
    cerrarDialogoBtn.addEventListener('click', CERRAR_DIALOGO);
    confirmarCompraBtn.addEventListener('click', CONFIRMAR_COMPRA);
  };

  INIT(); // Llama a la función init para configurar los event listeners
</script>

</body>
</html>
